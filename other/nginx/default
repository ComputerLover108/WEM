#nohup gunicorn --worker-class=gevent HLDT.wsgi:application -b 192.168.0.122:8000 & 
#vim /etc/nginx/sites-available/default
server {
        listen 80 default_server;
        listen [::]:80 default_server;


        server_name 192.168.0.122;

        location / {
                # checks for static file, if not found proxy to app
                try_files $uri @proxy_to_app;
        }

        location @proxy_to_app {
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header Host $http_host;
                proxy_redirect off;
                proxy_pass http://app_server;
        }
        location /static {
                alias /var/www/static; 
        }
}
